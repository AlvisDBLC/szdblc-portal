<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8"/>
<title>账号管理 · 川丞系统</title>
<style>
body{
  margin:0;
  background:#0b0f14;
  color:#e5f0ea;
  font-family:system-ui,"PingFang SC","Microsoft YaHei";
}
.card{
  max-width:720px;
  margin:60px auto;
  padding:24px;
  background:#0f1622;
  border:1px solid #1f3b2f;
  border-radius:12px;
}
h1{ color:#39ff9a }
input,button{
  padding:10px;
  margin:6px 0;
  width:100%;
  background:#0b0f14;
  border:1px solid #2a5c44;
  color:#e5f0ea;
}
button{
  background:#39ff9a;
  color:#00321c;
  cursor:pointer;
}
li{ margin:6px 0 }
</style>
</head>
<body>
<div class="card">
  <h1>账号管理</h1>

  <h3>新建账号</h3>
  <input id="u" placeholder="用户名"/>
  <input id="p" placeholder="密码"/>
  <button onclick="create()">创建</button>

  <h3>现有账号</h3>
  <ul id="list"></ul>
</div>

<script>
async function load(){
  const r = await fetch("https://auth.szdblc.cn/admin/users",{credentials:"include"});
  const data = await r.json();
  list.innerHTML = data.map(u=>`<li>${u.username}</li>`).join("");
}
async function create(){
  await fetch("https://auth.szdblc.cn/admin/create",{
    method:"POST",
    credentials:"include",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ username:u.value, password:p.value })
  });
  load();
}
load();
</script>
</body>
</html>
